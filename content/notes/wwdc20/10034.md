---
contributors: zntfdr
---

This session is a Code Along session, the session project can be found [here][projdwl].

## What is a Widget?

A widget is a SwiftUI view that updates over time, how and when it updates is covered in this session.

## How to add a widget to an existing app

1. Create a new Widget target: `File > New > Target > Widget Extension`

This will create a new target with a new project folder associated with it. 

In this folder we have one `.swift` file, named after our widget, which declares:

- a [`TimelineProvider`][tpdoc] 
- a [`Widget`][widgetDoc], which contains your widget declaration
- a [`TimelineEntry`][timelineEntryDoc]
- a placeholder `View`, which is a view WidgetKit uses to render the widget for the first time
` an entry `View`, which is the default view used by the widget

2. in the `Widget` declaration, update the default configuration with your widget title and description (those are two modifiers, [`.configurationDisplayName`][cdnDoc] and [`.description`][descDoc])

3. declare which widget family/sizes you'd like to support by adding a [`.supportedfamilies(_:)`][sfDoc] modifier, by default all three families are supported.

3. the dynamic data of the widget should come from the `TimelineEntry`, therefore any required data should be defined in there.

4. `TimelineEntry` instances come from our `TimelineProvider`, therefore we will need to update our `TimelineProvider` definition by adding the necessary entry data in the [`snapshot(for:with:completion:)`][snap] and [`timeline(for:with:completion:)`][tlDoc] functions

## Tips

- Use [`.previewContent(WidgetPreviewContext(family: .system..))`][widgetPreviewDoc] on SwiftUI previews to display the widget layout.

- use the `.isPlaceholder(true)` modifier on the preview view (note: `.isPlaceholder` is not available as of Xcode 12b2)

[projdwl]: https://developer.apple.com/documentation/widgetkit/building_widgets_using_widgetkit_and_swiftui
[tpdoc]: https://developer.apple.com/documentation/widgetkit/timelineprovider
[widgetDoc]: https://developer.apple.com/documentation/swiftui/widget
[timelineEntryDoc]: https://developer.apple.com/documentation/widgetkit/timelineentry
[widgetPreviewDoc]: https://developer.apple.com/documentation/widgetkit/widgetpreviewcontext
[cdnDoc]: https://developer.apple.com/documentation/widgetkit/intentconfiguration/configurationdisplayname(_:)-3ubj0
[descDoc]: https://developer.apple.com/documentation/widgetkit/intentconfiguration/description(_:)-1yars
[snap]: https://developer.apple.com/documentation/widgetkit/intenttimelineprovider/snapshot(for:with:completion:)
[tlDoc]: https://developer.apple.com/documentation/widgetkit/intenttimelineprovider/timeline(for:with:completion:)
[sfDoc]: https://developer.apple.com/documentation/widgetkit/staticconfiguration/supportedfamilies(_:)